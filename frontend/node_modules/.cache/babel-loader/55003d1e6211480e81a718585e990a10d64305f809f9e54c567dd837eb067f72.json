{"ast":null,"code":"var _jsxFileName = \"/Users/abhishek_1408/Downloads/resume_parser/frontend/src/pages/Bulk.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Header from \"../components/Header\";\nimport AnalyticsDashboard from \"../components/AnalyticsDashboard\";\nimport ExportButtons from \"../components/ExportButtons\";\nimport Loader from \"../components/Loader\";\nimport { bulkParse } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Bulk() {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [bulkData, setBulkData] = useState(null);\n  const [analytics, setAnalytics] = useState(null);\n  const [charts, setCharts] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [exporting, setExporting] = useState(null);\n  const [anonymize, setAnonymize] = useState(false);\n  const [error, setError] = useState(\"\");\n  const handleFileChange = e => {\n    setFiles(Array.from(e.target.files));\n  };\n  const handleBulkUpload = async () => {\n    if (!files.length) return;\n    setLoading(true);\n    setError(\"\");\n    try {\n      const data = await bulkParse(files, anonymize);\n      setBulkData(data);\n      console.log(\"Bulk results:\", data.results);\n      if (!data.results || !data.results.length) {\n        setError(\"No resumes could be parsed. Please check your files.\");\n        setLoading(false);\n        return;\n      }\n      // Call analytics endpoint to get proper summary and charts\n      const analyticsRes = await getAnalytics(data.results, true);\n      console.log(\"Analytics response:\", analyticsRes);\n      setAnalytics(analyticsRes.summary);\n      setCharts(analyticsRes.charts);\n    } catch (err) {\n      setError(\"Bulk parsing failed. Please try again.\");\n    }\n    setLoading(false);\n  };\n  const handleExport = async type => {\n    setExporting(type);\n    try {\n      if (!bulkData || !bulkData.results) {\n        setError('No data to export.');\n        setExporting(null);\n        return;\n      }\n      if (type === 'csv') {\n        // Use CSV string from backend response\n        const csv = bulkData.csv || '';\n        if (!csv) throw new Error('No CSV data found.');\n        const blob = new Blob([csv], {\n          type: 'text/csv'\n        });\n        downloadBlob(blob, 'bulk_results.csv');\n      } else if (type === 'json') {\n        const json = JSON.stringify(bulkData.results, null, 2);\n        const blob = new Blob([json], {\n          type: 'application/json'\n        });\n        downloadBlob(blob, 'bulk_results.json');\n      } else {\n        setError('Export type not supported in bulk.');\n      }\n    } catch (err) {\n      setError('Export failed.');\n    }\n    setExporting(null);\n  };\n  function downloadBlob(blob, filename) {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-100 via-white to-cyan-100 dark:from-gray-900 dark:via-gray-950 dark:to-cyan-950 transition-all\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-4xl mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-3xl p-8 border-2 border-dashed border-cyan-400 bg-white/10 dark:bg-gray-900/20 shadow-xl neon-glow flex flex-col items-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".pdf,.docx,.txt,.png,.jpg,.jpeg\",\n          multiple: true,\n          onChange: handleFileChange,\n          className: \"mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: anonymize,\n            onChange: () => setAnonymize(a => !a)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-cyan-600\",\n            children: \"Anonymize resumes (remove PII)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-6 py-2 rounded-xl bg-gradient-to-r from-cyan-400 to-fuchsia-500 text-white font-bold shadow-lg hover:scale-105 transition-all neon-glow\",\n          onClick: handleBulkUpload,\n          disabled: loading || !files.length,\n          children: loading ? \"Processing...\" : \"Start Bulk Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {\n        label: \"Analyzing resumes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(AnalyticsDashboard, {\n        summary: analytics,\n        charts: charts,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ExportButtons, {\n        onExport: handleExport,\n        exporting: exporting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(Bulk, \"DRujLaOtADC7jk4quq3ecPBhq98=\");\n_c = Bulk;\nvar _c;\n$RefreshReg$(_c, \"Bulk\");","map":{"version":3,"names":["React","useState","Header","AnalyticsDashboard","ExportButtons","Loader","bulkParse","jsxDEV","_jsxDEV","Bulk","_s","files","setFiles","bulkData","setBulkData","analytics","setAnalytics","charts","setCharts","loading","setLoading","exporting","setExporting","anonymize","setAnonymize","error","setError","handleFileChange","e","Array","from","target","handleBulkUpload","length","data","console","log","results","analyticsRes","getAnalytics","summary","err","handleExport","type","csv","Error","blob","Blob","downloadBlob","json","JSON","stringify","filename","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","multiple","onChange","checked","onClick","disabled","label","onExport","_c","$RefreshReg$"],"sources":["/Users/abhishek_1408/Downloads/resume_parser/frontend/src/pages/Bulk.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Header from \"../components/Header\";\nimport AnalyticsDashboard from \"../components/AnalyticsDashboard\";\nimport ExportButtons from \"../components/ExportButtons\";\nimport Loader from \"../components/Loader\";\nimport { bulkParse } from \"../utils/api\";\n\nexport default function Bulk() {\n  const [files, setFiles] = useState([]);\n  const [bulkData, setBulkData] = useState(null);\n  const [analytics, setAnalytics] = useState(null);\n  const [charts, setCharts] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [exporting, setExporting] = useState(null);\n  const [anonymize, setAnonymize] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleFileChange = (e) => {\n    setFiles(Array.from(e.target.files));\n  };\n\n  const handleBulkUpload = async () => {\n    if (!files.length) return;\n    setLoading(true);\n    setError(\"\");\n    try {\n      const data = await bulkParse(files, anonymize);\n      setBulkData(data);\n      console.log(\"Bulk results:\", data.results);\n      if (!data.results || !data.results.length) {\n        setError(\"No resumes could be parsed. Please check your files.\");\n        setLoading(false);\n        return;\n      }\n      // Call analytics endpoint to get proper summary and charts\n      const analyticsRes = await getAnalytics(data.results, true);\n      console.log(\"Analytics response:\", analyticsRes);\n      setAnalytics(analyticsRes.summary);\n      setCharts(analyticsRes.charts);\n    } catch (err) {\n      setError(\"Bulk parsing failed. Please try again.\");\n    }\n    setLoading(false);\n  };\n\n  const handleExport = async (type) => {\n    setExporting(type);\n    try {\n      if (!bulkData || !bulkData.results) {\n        setError('No data to export.');\n        setExporting(null);\n        return;\n      }\n      if (type === 'csv') {\n        // Use CSV string from backend response\n        const csv = bulkData.csv || '';\n        if (!csv) throw new Error('No CSV data found.');\n        const blob = new Blob([csv], { type: 'text/csv' });\n        downloadBlob(blob, 'bulk_results.csv');\n      } else if (type === 'json') {\n        const json = JSON.stringify(bulkData.results, null, 2);\n        const blob = new Blob([json], { type: 'application/json' });\n        downloadBlob(blob, 'bulk_results.json');\n      } else {\n        setError('Export type not supported in bulk.');\n      }\n    } catch (err) {\n      setError('Export failed.');\n    }\n    setExporting(null);\n  };\n\n  function downloadBlob(blob, filename) {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 via-white to-cyan-100 dark:from-gray-900 dark:via-gray-950 dark:to-cyan-950 transition-all\">\n      <Header />\n      <main className=\"max-w-4xl mx-auto px-4 py-8\">\n        <div className=\"rounded-3xl p-8 border-2 border-dashed border-cyan-400 bg-white/10 dark:bg-gray-900/20 shadow-xl neon-glow flex flex-col items-center mb-8\">\n          <input\n            type=\"file\"\n            accept=\".pdf,.docx,.txt,.png,.jpg,.jpeg\"\n            multiple\n            onChange={handleFileChange}\n            className=\"mb-4\"\n          />\n          <label className=\"flex items-center gap-2 mb-4\">\n            <input type=\"checkbox\" checked={anonymize} onChange={() => setAnonymize((a) => !a)} />\n            <span className=\"text-sm text-cyan-600\">Anonymize resumes (remove PII)</span>\n          </label>\n          <button\n            className=\"px-6 py-2 rounded-xl bg-gradient-to-r from-cyan-400 to-fuchsia-500 text-white font-bold shadow-lg hover:scale-105 transition-all neon-glow\"\n            onClick={handleBulkUpload}\n            disabled={loading || !files.length}\n          >\n            {loading ? \"Processing...\" : \"Start Bulk Analysis\"}\n          </button>\n          {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n        </div>\n        {loading && <Loader label=\"Analyzing resumes...\" />}\n        <AnalyticsDashboard summary={analytics} charts={charts} loading={loading} />\n        <ExportButtons onExport={handleExport} exporting={exporting} />\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}